<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIS: MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MIS
   &#160;<span id="projectnumber">2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>MIS</b></li><li class="navelem"><b>DatabaseTool</b></li><li class="navelem"><a class="el" href="namespaceMIS_1_1DatabaseTool_1_1dataLayer.html">dataLayer</a></li><li class="navelem"><a class="el" href="namespaceMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools.html">connectionTools</a></li><li class="navelem"><a class="el" href="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode.html">Lumis_Decode</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode:</div>
<div class="dyncontent">
<div class="center"><img src="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode__inherit__graph.png" border="0" usemap="#MIS_8DatabaseTool_8dataLayer_8connectionTools_8Lumis__Decode_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode:</div>
<div class="dyncontent">
<div class="center"><img src="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode__coll__graph.png" border="0" usemap="#MIS_8DatabaseTool_8dataLayer_8connectionTools_8Lumis__Decode_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a05573d6d91e6a97a37e302e2ef3788d5"><td class="memItemLeft" align="right" valign="top"><a id="a05573d6d91e6a97a37e302e2ef3788d5"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__init__</b> (self)</td></tr>
<tr class="separator:a05573d6d91e6a97a37e302e2ef3788d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1310b3befcb52dbea9b170e41e4aaca0"><td class="memItemLeft" align="right" valign="top"><a id="a1310b3befcb52dbea9b170e41e4aaca0"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>reInitialize</b> (self)</td></tr>
<tr class="separator:a1310b3befcb52dbea9b170e41e4aaca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf15d2d3079f2a40be7bdd55573f2f6"><td class="memItemLeft" align="right" valign="top"><a id="a1bf15d2d3079f2a40be7bdd55573f2f6"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>setReadSize</b></td></tr>
<tr class="separator:a1bf15d2d3079f2a40be7bdd55573f2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40faa0a87f0c11951640d66838ef6965"><td class="memItemLeft" align="right" valign="top"><a id="a40faa0a87f0c11951640d66838ef6965"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>setCheckMode</b></td></tr>
<tr class="separator:a40faa0a87f0c11951640d66838ef6965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ba970c665bc6aee5faedf9cc379bf4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode.html#a02ba970c665bc6aee5faedf9cc379bf4">badPackage</a> (self)</td></tr>
<tr class="separator:a02ba970c665bc6aee5faedf9cc379bf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3508687b0b1a5bdb3e1667de3f18357d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode.html#a3508687b0b1a5bdb3e1667de3f18357d">eventCount</a> (self)</td></tr>
<tr class="separator:a3508687b0b1a5bdb3e1667de3f18357d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88bc70f8bd15c217eb8c2486f2788821"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode.html#a88bc70f8bd15c217eb8c2486f2788821">totalCount</a> (self)</td></tr>
<tr class="separator:a88bc70f8bd15c217eb8c2486f2788821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add0f30cbf6de5e57c27996a44659da81"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode.html#add0f30cbf6de5e57c27996a44659da81">readSize</a> (self)</td></tr>
<tr class="separator:add0f30cbf6de5e57c27996a44659da81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99518aedc2ae8e974dc88593ecec63f0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode.html#a99518aedc2ae8e974dc88593ecec63f0">devStatus</a> (self)</td></tr>
<tr class="separator:a99518aedc2ae8e974dc88593ecec63f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ada4be365b12d4010385947c16e6f1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode.html#a79ada4be365b12d4010385947c16e6f1">decodingOneEventData</a> (self)</td></tr>
<tr class="separator:a79ada4be365b12d4010385947c16e6f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a26cb0681a32eca90be17d71bc2cf64"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode.html#a8a26cb0681a32eca90be17d71bc2cf64">decodingOneEventData_nonBlocking</a> (self)</td></tr>
<tr class="separator:a8a26cb0681a32eca90be17d71bc2cf64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2634128ee42cef032a40f7d92fa31227"><td class="memItemLeft" align="right" valign="top"><a id="a2634128ee42cef032a40f7d92fa31227"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>findSSP2EIndex</b></td></tr>
<tr class="separator:a2634128ee42cef032a40f7d92fa31227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5565e250a819f357977619f6bae0714b"><td class="memItemLeft" align="right" valign="top"><a id="a5565e250a819f357977619f6bae0714b"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>loadBinaryData</b></td></tr>
<tr class="separator:a5565e250a819f357977619f6bae0714b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abec17520982f010a6364f849b4a84c00"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMIS_1_1DatabaseTool_1_1dataLayer_1_1connectionTools_1_1Lumis__Decode.html#abec17520982f010a6364f849b4a84c00">putStopOrder</a> (self)</td></tr>
<tr class="separator:abec17520982f010a6364f849b4a84c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a02ba970c665bc6aee5faedf9cc379bf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02ba970c665bc6aee5faedf9cc379bf4">&#9670;&nbsp;</a></span>badPackage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode.badPackage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tuple</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">返回坏包的数量
:return: tuple(空包数,中断次数,无法识别包数)
</pre> 
</div>
</div>
<a id="a79ada4be365b12d4010385947c16e6f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ada4be365b12d4010385947c16e6f1">&#9670;&nbsp;</a></span>decodingOneEventData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode.decodingOneEventData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tuple</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">解析一个事件的数据,当数据不足时会阻塞
当解析到终止信息-1时会抛出异常
======THE FORMAT OF SOURCE=====
---------DATA PART-------------
NAME    ROW     SIZE    LOCAL
HAED    1ROW    2Bytes  0-1
HGain   36ROW   72Bytes 2-73
LGain   36ROW   72Bytes 74-145
BCID    1ROW    2Bytes  146-147
ChipID  1ROW    2Bytes  148-149
Temp    1ROW    2Bytes  150-151
Trigger 1ROW    2Bytes  151-153
TAIL    1ROW    4Bytes  154-157
---------STATUS PART-----------
TrigDAC 1ROW    2Bytes  158-159 0-1
INDAC   1ROW    2Bytes  160-161 2-3
TrigMode1ROW    2Bytes  162-163 4-5
BoardID 1ROW    2Bytes  164-165 6-7
TOTAL SIZE: 166

======RETURN DATA FORMAT=====
shape   (n, 40)
---------AXIS 0----------
board   0~n
---------AXIS 1-----------
NAME            LENGTH
CHARGE          36
Temp            1
TrigID          1
BOARDID         1
TimeTage        1
TOTAL LENGTH:   40
---------------------------
DATA TYPE:  np.array
dtype:      uint16
:return: np.array:all the valid board data in one event,shape(n,39)
np.array: timeTag, shape(n,)
</pre> 
</div>
</div>
<a id="a8a26cb0681a32eca90be17d71bc2cf64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a26cb0681a32eca90be17d71bc2cf64">&#9670;&nbsp;</a></span>decodingOneEventData_nonBlocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode.decodingOneEventData_nonBlocking </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tuple</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">解析一个事件的数据,当数据不足时返回（None,None)，不会阻塞
======THE FORMAT OF SOURCE=====
---------DATA PART-------------
NAME    ROW     SIZE    LOCAL
HAED    1ROW    2Bytes  0-1
HGain   36ROW   72Bytes 2-73
LGain   36ROW   72Bytes 74-145
BCID    1ROW    2Bytes  146-147
ChipID  1ROW    2Bytes  148-149
Temp    1ROW    2Bytes  150-151
Trigger 1ROW    2Bytes  151-153
TAIL    1ROW    4Bytes  154-157
---------STATUS PART-----------
TrigDAC 1ROW    2Bytes  158-159 0-1
INDAC   1ROW    2Bytes  160-161 2-3
TrigMode1ROW    2Bytes  162-163 4-5
BoardID 1ROW    2Bytes  164-165 6-7
TOTAL SIZE: 166

======RETURN DATA FORMAT=====
shape   (n, 40)
---------AXIS 0----------
board   0~n
---------AXIS 1-----------
NAME            LENGTH
CHARGE          36
Temp            1
TrigID          1
BOARDID         1
TimeTage        1
TOTAL LENGTH:   40
---------------------------
DATA TYPE:  np.array
dtype:      uint16
:return: np.array:all the valid board data in one event,shape(n,39) / None
np.array: timeTag, shape(n,) / None
</pre> 
</div>
</div>
<a id="a99518aedc2ae8e974dc88593ecec63f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99518aedc2ae8e974dc88593ecec63f0">&#9670;&nbsp;</a></span>devStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode.devStatus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">返回设备配置状态
:return: key: boardID; value: tuple(threshold, bias voltage, trigger mode)
</pre> 
</div>
</div>
<a id="a3508687b0b1a5bdb3e1667de3f18357d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3508687b0b1a5bdb3e1667de3f18357d">&#9670;&nbsp;</a></span>eventCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode.eventCount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tuple</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">返回采集到的事件数
:return: tuple(采集到的正常数据包个数, 采集到的有效事件数)
</pre> 
</div>
</div>
<a id="abec17520982f010a6364f849b4a84c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abec17520982f010a6364f849b4a84c00">&#9670;&nbsp;</a></span>putStopOrder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode.putStopOrder </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">在数据队列_binaryBuff中添加一个停止信息None,当解析到None时,会抛出异常
:return:
</pre> 
</div>
</div>
<a id="add0f30cbf6de5e57c27996a44659da81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add0f30cbf6de5e57c27996a44659da81">&#9670;&nbsp;</a></span>readSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode.readSize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>int</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">:return: 每次读取数据的大小
</pre> 
</div>
</div>
<a id="a88bc70f8bd15c217eb8c2486f2788821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88bc70f8bd15c217eb8c2486f2788821">&#9670;&nbsp;</a></span>totalCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def MIS.DatabaseTool.dataLayer.connectionTools.Lumis_Decode.totalCount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>int</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">返回接受到到的总数据包个数: 采集到的正常数据包个数+空包数+中断次数
:return: int
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>DatabaseTool/dataLayer/connectionTools.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
